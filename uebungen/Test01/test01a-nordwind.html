<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Mctom Spdo">
<title>Test 01 A</title>
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */

@import url(//fonts.googleapis.com/css?family=Noto+Sans);
@import url(https://cdn.jsdelivr.net/gh/asciidoctor/asciidoctor@2.0/data/stylesheets/asciidoctor-default.css); /* Default asciidoc style framework - important */

/* CUSTOMISATIONS */
/* Change the values in root for quick customisation. If you want even more fine grain... venture further. */
:root{
--maincolor:#282c34;
--primarycolor:#f39c12;
--secondarycolor:#03a9f4;
--tertiarycolor:#4db6ac;
--sidebarbackground:#21252b;
--linkcolor:#f44336;
--linkcoloralternate:#ff9800;
--white:#FFFFFF;
}

/* custom added styles */
.listingblock > .content > pre{
  background: var(--sidebarbackground);
  color: var(--white);
}

/* Text styles */
body{font-family: "Noto Sans",sans-serif;background-color: var(--maincolor);color:var(--white);}

h1{color:var(--primarycolor) !important;font-family:"Noto Sans",sans-serif;}
h2,h3,h4,h5,h6{color:var(--secondarycolor) !important;font-family:"Noto Sans",sans-serif;}
.title{color:var(--white) !important;font-family:"Noto Sans",sans-serif;font-style: normal; font-weight: normal;}
p{font-family: "Noto Sans",sans-serif ! important}
#toc.toc2 a:link{color:var(--linkcolor);}
blockquote{color:var(--tertiarycolor) !important}
.quoteblock{color:var(--white)}
code{color:var(--linkcoloralternate);background-color: var(--sidebarbackground) !important}


/* Table styles */
th{background-color: var(--maincolor);color:var(--white) !important;}
td{background-color: var(--maincolor);color: var(--linkcoloralternate) !important}


#toc.toc2{background-color:var(--sidebarbackground);}
#toctitle{color:var(--white);}

/* Responsiveness fixes */
video {
  max-width: 100%;
}

@media all and (max-width: 600px) {
  table {
    width: 55vw!important;
    font-size: 3vw;
  }
}

.exampleblock > .content {
  background-color: var(--maincolor);
}

a {
  color: var(--secondarycolor);
}

.admonitionblock td.icon .icon-tip::before {
  text-shadow: none;
  color: var(--white);
}
.admonitionblock td.icon .icon-note::before {
  color: var(--tertiarycolor);
}
.admonitionblock td.icon .icon-important::before {
  color: var(--linkcolor);
}
/*.admonitionblock td.icon .icon-caution::before {
  color: var(--linkcoloralternate);
}*/
.admonitionblock td.icon .icon-warning::before {
  color: var(--primarycolor);
}

#preamble > .sectionbody > .paragraph:first-of-type p {
  color: var(--white);
}

.quoteblock blockquote::before {
  color: var(--primarycolor);
}
.quoteblock .attribution cite, .verseblock .attribution cite {
  color: var(--white);
}
.verseblock pre {
  color: var(--white);
}
.quoteblock blockquote, .quoteblock blockquote p {
  color: var(--white);
}

.sidebarblock {
  background: var(--sidebarbackground);
}
.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint {
  background: var(--sidebarbackground);
  color: var(--white);
}

#header .details {
  color: var(--white);
}
#header .details span.email a {
  color: var(--linkcoloralternate);
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Test 01 A</h1>
<div class="details">
<span id="author" class="author">Mctom Spdo</span><br>
<span id="revnumber">version 1.0.0,</span>
<span id="revdate">2022-10-06</span>
<br><span id="revremark">ITP</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_abfrage">1. Abfrage</a></li>
<li><a href="#_abfrage_2">2. Abfrage</a></li>
<li><a href="#_abfrage_3">3. Abfrage</a></li>
<li><a href="#_abfrage_4">4. Abfrage</a></li>
<li><a href="#_abfrage_5">5. Abfrage</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Für diese Übung benötigt man die Oracle Nordwind demo daten.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abfrage">1. Abfrage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Erstelle eine Liste aller Lieferanten mit ihren jeweils teuersten Produkten. Es sollen nur die Lieferanten ange-
zeigt werden, bei denen das teuerste Produkt billiger als 10 € ist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">select</span> SUPPLIERID, <span style="color:#369;font-weight:bold">max</span>(UNITPRICE)
<span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.PRODUCTS
<span style="color:#080;font-weight:bold">group</span> <span style="color:#080;font-weight:bold">by</span> SUPPLIERID
<span style="color:#080;font-weight:bold">having</span> <span style="color:#369;font-weight:bold">max</span>(UNITPRICE) &lt; <span style="color:#00D">10</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abfrage_2">2. Abfrage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Liste den Nachnamen des Mitarbeiters (employees) auf, der am längsten angestellt war.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">select</span> LASTNAME, to_char(HIREDATE, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">DD.MM.YY</span><span style="color:#710">'</span></span>)
<span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.EMPLOYEES
<span style="color:#080;font-weight:bold">where</span> months_between(SYSDATE, HIREDATE) = (
    <span style="color:#B06;font-weight:bold">select</span> <span style="color:#369;font-weight:bold">max</span>(months_between(SYSDATE, HIREDATE))
    <span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.EMPLOYEES);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abfrage_3">3. Abfrage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Schreibe eine Abfrage, die alle Kundennamen ausgibt, die eine Bestellung aufgegeben haben, die Produkte
beinhaltet, die von einem Lieferanten aus Berlin geliefert werden. Weiters werden noch der Firmenname des
Lieferanten sowie die Anzahl der Bestellungen des Kunden bei dem jeweiligen Lieferanten angezeigt. Es soll
absteigend nach dem Kundennamen sortiert werden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">select</span> cust.CONTACTNAME, sup.COMPANYNAME , <span style="color:#369;font-weight:bold">count</span>(*) <span style="color:#080;font-weight:bold">as</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Anzahl Bestellungen</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.ORDERS od
<span style="color:#080;font-weight:bold">join</span> DEMO_NORTHWIND.ORDERDETAILS oddetails <span style="color:#080;font-weight:bold">using</span> (ORDERID)
<span style="color:#080;font-weight:bold">join</span> DEMO_NORTHWIND.PRODUCTS prod <span style="color:#080;font-weight:bold">using</span> (PRODUCTID)
<span style="color:#080;font-weight:bold">join</span> DEMO_NORTHWIND.SUPPLIERS sup <span style="color:#080;font-weight:bold">using</span> (SUPPLIERID)
<span style="color:#080;font-weight:bold">join</span> DEMO_NORTHWIND.CUSTOMERS cust <span style="color:#080;font-weight:bold">using</span>(CUSTOMERID)
<span style="color:#080;font-weight:bold">where</span> sup.CITY = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Berlin</span><span style="color:#710">'</span></span>
<span style="color:#080;font-weight:bold">group</span> <span style="color:#080;font-weight:bold">by</span> sup.COMPANYNAME, cust.CONTACTNAME
<span style="color:#080;font-weight:bold">order</span> <span style="color:#080;font-weight:bold">by</span> cust.CONTACTNAME;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abfrage_4">4. Abfrage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Schreibe eine Abfrage, die alle Lieferanten ausgibt, die weniger als zwei verschiedene Produkte liefern. Ver-
wende hierzu einen Mengenoperator (UNION, MINUS oder INTERSECT)!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">select</span> companyname
<span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.SUPPLIERS
minus
<span style="color:#B06;font-weight:bold">select</span> COMPANYNAME
<span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.SUPPLIERS s
natural <span style="color:#080;font-weight:bold">join</span> DEMO_NORTHWIND.PRODUCTS
<span style="color:#080;font-weight:bold">group</span> <span style="color:#080;font-weight:bold">by</span> companyname
<span style="color:#080;font-weight:bold">having</span> <span style="color:#369;font-weight:bold">count</span>(*) &gt;= <span style="color:#00D">2</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abfrage_5">5. Abfrage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Wie heißt das teuerste Produkt eines Lieferanten aus Berlin? Verwende ausschließlich Subqueries</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">select</span> * <span style="color:#080;font-weight:bold">from</span> (
    <span style="color:#B06;font-weight:bold">select</span> prod.PRODUCTNAME <span style="color:#080;font-weight:bold">as</span> productname, <span style="color:#369;font-weight:bold">max</span>(UNITPRICE) <span style="color:#080;font-weight:bold">as</span> maxprice
    <span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.PRODUCTS prod
    <span style="color:#080;font-weight:bold">group</span> <span style="color:#080;font-weight:bold">by</span> prod.PRODUCTNAME, prod.SUPPLIERID
        <span style="color:#080;font-weight:bold">having</span> prod.SUPPLIERID = (
            <span style="color:#B06;font-weight:bold">select</span> sup2.SUPPLIERID
            <span style="color:#080;font-weight:bold">from</span> DEMO_NORTHWIND.SUPPLIERS sup2
            <span style="color:#080;font-weight:bold">where</span> sup2.CITY <span style="color:#080;font-weight:bold">like</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Berlin</span><span style="color:#710">'</span></span>)
    <span style="color:#080;font-weight:bold">order</span> <span style="color:#080;font-weight:bold">by</span> maxprice <span style="color:#088;font-weight:bold">desc</span>)
<span style="color:#080;font-weight:bold">where</span> rownum = <span style="color:#00D">1</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.0<br>
Last updated 2022-10-06 11:07:39 +0200
</div>
</div>
</body>
</html>